!function(){"use strict";var t=wp.element,a=function(t){var a=t.attributes,c=t.clientId,e=a.width,l=a.alignment,n=a.background,r=a.textAlign,o=a.padding,i=a.border,u=a.shadow,b=a.headingTypo,p=a.headingColor,s=a.numberTypo,d=a.labelTypo,m=a.numberLabelColor,g=a.rangeWidth,y=a.rangeTrackBG,f=a.rangeThumbBG,C=(null==y?void 0:y.styles)||"background-image: radial-gradient(#70777f, #40444f);",P=(null==f?void 0:f.styles)||"background-image: radial-gradient(#70777f, #40444f);";return React.createElement("style",{dangerouslySetInnerHTML:{__html:"\n\t\t".concat(null!=b&&b.googleFontLink?"@import url(".concat(null==b?void 0:b.googleFontLink,");"):"","\n\t\t").concat(null!=s&&s.googleFontLink?"@import url(".concat(null==s?void 0:s.googleFontLink,");"):"","\n\t\t").concat(null!=d&&d.googleFontLink?"@import url(".concat(null==d?void 0:d.googleFontLink,");"):"","\n\n\t\t#pclbPriceCalculator-").concat(c,"{\n\t\t\ttext-align: ").concat(l,";\n\t\t}\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator{\n\t\t\twidth: ").concat("0px"===e||"0%"===e||"0em"===e?"auto":e,";\n\t\t\t").concat((null==n?void 0:n.styles)||"background-color: #e3edf1;","\n\t\t\ttext-align: ").concat(r,";\n\t\t\tpadding: ").concat((null==o?void 0:o.styles)||"25px 30px",";\n\t\t\t").concat((null==i?void 0:i.styles)||"border-radius: 3px;","\n\t\t\tbox-shadow: ").concat((null==u?void 0:u.styles)||"none",";\n\t\t}\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbHeading{\n\t\t\t").concat((null==b?void 0:b.styles)||"font-size: 28px;","\n\t\t\tcolor: ").concat(p,";\n\t\t}\n\t\t\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantity, #pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbTotal{\n\t\t\tcolor: ").concat(m,";\n\t\t}\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantity .pclbQuantityAmount, #pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbTotal .pclbTotalPrice{\n\t\t\t").concat((null==s?void 0:s.styles)||"font-size: 20px; font-weight: 700;","\n\t\t}\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantity .pclbQuantityLabel, #pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbTotal .pclbTotalLabel{\n\t\t\t").concat((null==d?void 0:d.styles)||"font-size: 15px;","\n\t\t}\n\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange{\n\t\t\twidth: ").concat(g,"\n\t\t}\n\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange:focus::-webkit-slider-runnable-track{ ").concat(C," }\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange:focus::-ms-fill-upper{ ").concat(C," }\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange:focus:focus::-ms-fill-lower{ ").concat(C," }\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange::-webkit-slider-runnable-track{ ").concat(C," }\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange::-moz-range-track{ ").concat(C," }\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange::-ms-fill-upper{ ").concat(C," }\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange::-ms-fill-lower{ ").concat(C," }\n\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange::-webkit-slider-thumb{ ").concat(P," }\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange::-moz-range-thumb{ ").concat(P," }\n\t\t#pclbPriceCalculator-").concat(c," .pclbPriceCalculator .pclbQuantityRange::-ms-thumb{ ").concat(P," }\n\t\t").replace(/\s+/g," ")}})},c=wp.i18n,e=wp.blockEditor;function l(t,a){return function(t){if(Array.isArray(t))return t}(t)||function(t,a){var c=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==c)return;var e,l,n=[],r=!0,o=!1;try{for(c=c.call(t);!(r=(e=c.next()).done)&&(n.push(e.value),!a||n.length!==a);r=!0);}catch(t){o=!0,l=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw l}}return n}(t,a)||function(t,a){if(!t)return;if("string"==typeof t)return n(t,a);var c=Object.prototype.toString.call(t).slice(8,-1);"Object"===c&&t.constructor&&(c=t.constructor.name);if("Map"===c||"Set"===c)return Array.from(t);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return n(t,a)}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,a){(null==a||a>t.length)&&(a=t.length);for(var c=0,e=new Array(a);c<a;c++)e[c]=t[c];return e}var r=function(a){var n=a.attributes,r=a.isBackend,o=void 0!==r&&r,i=a.wp,u=n.currency,b=n.maxQuantity,p=n.unitPrice,s=n.unitPriceQuery,d=n.quantityLabel,m=n.totalPriceLabel,g=n.heading,y=l((0,t.useState)(parseInt(b/2)),2),f=y[0],C=y[1],P=(0,t.useRef)(null);return(0,t.useEffect)((function(){f>b&&C(b)}),[b]),(0,t.useEffect)((function(){var t=lodash.sortBy(s,["afterQuantity","unitPrice"]);P.current.innerText="".concat(u).concat((f*p).toFixed(2));for(var a=0;a<t.length;a++){var c=parseFloat(t[a].afterQuantity),e=parseFloat(t[a].unitPrice);c<=f&&(P.current.innerText="".concat(u).concat((f*e).toFixed(2)))}}),[P,p,s,u,f]),React.createElement("div",{className:"pclbPriceCalculator"},o?React.createElement(e.RichText,{className:"pclbHeading",tagName:"h2",value:g,onChange:function(t){return i.setAttributes({heading:t})},placeholder:(0,c.__)("Price Calculator","price-calculator"),inlineToolbar:!0}):g&&React.createElement(e.RichText.Content,{className:"pclbHeading",tagName:"h2",value:g}),React.createElement("div",{className:"pclbQuantity"},o?React.createElement(e.RichText,{className:"pclbQuantityLabel",tagName:"label",value:d,onChange:function(t){return i.setAttributes({quantityLabel:t})},placeholder:(0,c.__)("Quantity Label:","price-calculator"),inlineToolbar:!0}):d&&React.createElement(e.RichText.Content,{className:"pclbQuantityLabel",tagName:"label",value:d}),React.createElement("p",{className:"pclbQuantityAmount"},f)),React.createElement("input",{className:"pclbQuantityRange",type:"range",value:f,onChange:function(t){return C(parseInt(t.target.value))},min:1,max:b,step:1}),React.createElement("div",{className:"pclbTotal"},React.createElement("p",{className:"pclbTotalPrice",ref:P}),o?React.createElement(e.RichText,{className:"pclbTotalLabel",tagName:"label",value:m,onChange:function(t){return i.setAttributes({totalPriceLabel:t})},placeholder:(0,c.__)("Total Price","price-calculator"),inlineToolbar:!0}):m&&React.createElement(e.RichText.Content,{className:"pclbTotalLabel",tagName:"label",value:m})))};document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".wp-block-pclb-price-calculator").forEach((function(c){var e=JSON.parse(c.dataset.attributes);(0,t.render)(React.createElement(React.Fragment,null,React.createElement(a,{attributes:e,clientId:e.cId}),React.createElement(r,{attributes:e})),c),null==c||c.removeAttribute("data-attributes")}))}))}();
//# sourceMappingURL=script.js.map